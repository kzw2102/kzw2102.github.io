---
title: "Problem 2 Plotly"
output: 
  html_document:
    cold_folding: hide
    toc: true
    toc_float: true
---

My name is Kelly and I am a second year Master of Public Health student at Columbia University's Mailman School of Public Health in the department. I am learning to make websites with _interactive graphics_!!

## Heres some plots 
```{r}
library(tidyverse)
library(viridis)
library(p8105.datasets)

library(plotly)
```

```{r}
data(rest_inspec)

#tidy
rest_inspec_tidy=
  rest_inspec %>% 
  select(
    boro, zipcode, dba, cuisine_description, building, grade, score
  ) %>% 
  filter(
    !is.na(grade),
    grade %in% c("A", "B", "C", "Not Yet Graded"),
    cuisine_description == c("Korean", "Chinese", "American", "Donuts")
  ) %>% 
  mutate(
    grade=as.factor(grade),
    grade=fct_relevel(grade, c("A", "B", "C", "Not Yet Graded"))
  )
```
# scatter plot 


```{r}
rest_inspec_tidy %>% 
  plot_ly(x=~score, y=~boro, type="scatter", mode="markers", color=~cuisine_description, alpha=0.5 ) %>% 
  layout(title="Scatter of Score by Borough by Cuisine ",
         xaxis= list(title="Score"), yaxis=list(title="Borough"))

```


## Bar Chart 
plotly bar chart by food category in manhattan
```{r}
rest_inspec_tidy%>% 
  filter(boro=="MANHATTAN") %>% 
  count(cuisine_description) %>% 
  mutate(cuisine_description = fct_reorder(cuisine_description, n)) %>% 
  plot_ly(x= ~cuisine_description, y= ~n, color = ~cuisine_description, type="bar")
```
We can see here that among the 4 cuisine categories, American is the most popular in Manhattan. 

# box plots
* distribution by grade per cuisine category
```{r}
box_ggplot=
  rest_inspec_tidy%>% 
  mutate(grade = fct_reorder(grade, score)) %>% 
  ggplot(aes(x=grade, y=score, fill= cuisine_description)) +
  geom_boxplot()+
  theme_classic () +
  theme(axis.text.x = element_text(angle=90, hjust=1))

ggplotly(box_ggplot)
```



